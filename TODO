TODO for macro/module system					-*- Outline -*-

* trunk merge
  11148 was last

* bugs

** macros
*** expansion of r5rs_pitfall 4.2 incorrect
    possibly due to a non-aliased implicit "begin" somewhere

** modules
*** chicken.import.scm refers to ##sys#chicken-macro-environment
    ... which is only set, if chicken-more-macros.scm is loaded, which is
    of course not the case inside a compiled executable
    (current workaround is to set them to nil by default)
*** same for ##sys#chicken-ffi-macro-environment
*** re-exports of syntax doesn't work
    generating import library requires source
    (compiled-module-registration), but original module is lost after
    importing

* module issues
** code-duplication in compiler and evaluator for ##core#module
** "scheme" module does not include some special forms ("define-syntax", etc.)
** import-for-syntax imports value bindings into import-env
   should actually be a distinct meta-import-env.
*** does it work at all?
** curried define performs expansion in empty se - problem?
   (as comment in expand.scm indicated (##sys#register-export))

* documentation
** later document expander (-> wiki, internals)

* build
** chicken.texi needs to be regenerated

* syntax-error
** if ##sys#current-module is set, add name to error message?

* modules
** checks
*** reimport of imported id
*** unused defs?

* csi
** describe should print if symbol is interned

* compiler
** warn if encountering global ref to "unquote[-splicing]"
** add command-line option for import
   should we?

* eggs to be removed
** syntax-case
*** sxml-match, others ...
** codewalk
*** modules, crunch
** syntactic-closures
** simple-macros
** alexpander
