TODO for macro/module system					-*- Outline -*-

* what about thread-terminate! ? (at least note in manual)

* trunk merge
  11635 was last

* macros
** at some stage disable debug-output in expand.scm

* bugs

** compiler
*** pre-optimization 
*** changes call-sites and makes them invalid for later pre-optimization

** macros
*** expansion of r5rs_pitfall 4.2 incorrect
    possibly due to a non-aliased implicit "begin" somewhere

** dirty-macros.scm loops when using `defile'

** modules
*** chicken.import.scm refers to ##sys#chicken-macro-environment
    ... which is only set, if chicken-more-macros.scm is loaded, which
    is of course not the case inside a compiled executable (current
    workaround is to set them to nil by default)
*** same for ##sys#chicken-ffi-macro-environment
*** re-exports of syntax doesn't work
    generating import library requires source
    (compiled-module-registration), but original module is lost after
    importing.
*** `require-extension' fails in interpreter when extension is .so without import library
    probably because load and import is in same toplevel form, and the
    load is performed after the import (at runtime). A possibly fix
    would be to load the extension immediately (at
    compile-/expansion-time), when import is #t and o import lib
    exists.

* tests
** optional longer run (env. var)
*** syntax-rules-stress-test
*** fully compiled ec-tests

* module issues
** code-duplication in compiler and evaluator for ##core#module
** "scheme" module does not include some special forms ("define-syntax", etc.)
** import-for-syntax imports value bindings into import-env
   should actually be a distinct meta-import-env.
*** does it work at all?
** curried define performs expansion in empty se - problem?
   (as comment in expand.scm indicated (##sys#register-export))

* guerrilla-setup
** "-version" option for all tools
** setup-download
*** allow customization of svn credentials (username/password) instead of hardcoded "anonymous"
*** HTTP_PROXY
*** handle redirects in http-fetch
** chicken-install
*** handle needs/depends of builtin extension
*** should cache extension-info
** write manual chapters
*** remove "manual/chicken-setup", fix links
*** add "manual/extensions"
*** document new .meta entries
    depends, test-depends
** add .c/.1 files to distribution/manifest
** remove all remnants of chicken-setup
** note about building setup tools with 

* documentation
** document ("HI/LO") expander (-> wiki, internals)

* build
** chicken.texi needs to be regenerated

* syntax-error
** if ##sys#current-module is set, add name to error message?

* modules
** checks
*** reimport of imported id
*** unused defs?

* compiler
** warn if encountering global ref or assignment to "unquote[-splicing]"

* eggs to be removed
** syntax-case
*** sxml-match, others ...
** codewalk
*** modules, crunch
** syntactic-closures
** simple-macros
** alexpander
